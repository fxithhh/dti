{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\DesignThinking\\\\chess-app\\\\src\\\\components\\\\gameinstructions.jsx\";\nimport React, { useState } from 'react';\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { db } from \".././firebase\";\nimport { uid } from \"uid\";\nimport { set, ref } from \"../../node_modules/firebase/database\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction GameInstructions(_ref) {\n  let {\n    history\n  } = _ref;\n  // const [toPos, setToPos] = useState(\"\")\n  console.log(\"from:\", history.slice(-1));\n  const latestMoveObj = history.slice(-1);\n  const latestTo = latestMoveObj.map(toPos => toPos.to).toString();\n  const latestFrom = latestMoveObj.map(fromPos => fromPos.from).toString();\n  console.log(\"to:\", latestTo, \"from:\", latestFrom);\n  console.log(\"fml\", latestMoveObj[0]);\n\n  function conversion(toandfro) {\n    const path = ['a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a7', 'a8', 'b1', 'b2', 'b3', 'b4', 'b5', 'b6', 'b7', 'b8', 'c1', 'c2', 'c3', 'c4', 'c5', 'c6', 'c7', 'c8', 'd1', 'd2', 'd3', 'd4', 'd5', 'd6', 'd7', 'd8', 'e1', 'e2', 'e3', 'e4', 'e5', 'e6', 'e7', 'e8', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7', 'f8', 'g1', 'g2', 'g3', 'g4', 'g5', 'g6', 'g7', 'g8', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'h7', 'h8'];\n    const number = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63];\n\n    for (let i = 0; i < toandfro.length; i++) {\n      toandfro[i] = number[path.indexOf(toandfro[i])];\n    }\n\n    return toandfro;\n  }\n\n  const latestMove = [latestTo, latestFrom];\n  console.log(latestMove); //write\n\n  console.log(\"history again\", history); // const to = history.\n\n  const writeToDatabase = () => {\n    const uuid = uid();\n    set(ref(db, `/Main/${uuid}`), {\n      history,\n      uuid\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Popup, {\n    trigger: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"rounded-lg font-semibold bg-amber-400 text-white px-4 py-2 mt-2\",\n      children: \"Moves History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }, this),\n    modal: true,\n    nested: true,\n    children: history.map((move, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [move.color === null ? \"\" : move.color === \"w\" ? \"White\" : \"Black\", \" \", move.piece === null ? \"\" : move.piece === \"p\" ? \"Pawn\" : move.piece === \"n\" ? \"Knight\" : move.piece = \"b\" ? \"Bishop\" : move.piece = \"r\" ? \"Rook\" : move.piece = \"q\" ? \"Queen\" : \"King\", \" moved from \", move.from, \" to \", move.to]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 33\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_c = GameInstructions;\nexport default GameInstructions;\n\nvar _c;\n\n$RefreshReg$(_c, \"GameInstructions\");","map":{"version":3,"sources":["C:/Users/user/Documents/DesignThinking/chess-app/src/components/gameinstructions.jsx"],"names":["React","useState","Popup","db","uid","set","ref","GameInstructions","history","console","log","slice","latestMoveObj","latestTo","map","toPos","to","toString","latestFrom","fromPos","from","conversion","toandfro","path","number","i","length","indexOf","latestMove","writeToDatabase","uuid","move","color","piece"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Popup from 'reactjs-popup';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport { db } from \".././firebase\"\r\nimport { uid } from \"uid\";\r\nimport { set, ref } from \"../../node_modules/firebase/database\";\r\n\r\n\r\nfunction GameInstructions({ history }) {\r\n  // const [toPos, setToPos] = useState(\"\")\r\n  console.log(\"from:\", history.slice(-1))\r\n  const latestMoveObj = history.slice(-1)\r\n  const latestTo = latestMoveObj.map(toPos => toPos.to).toString()\r\n  const latestFrom = latestMoveObj.map(fromPos => fromPos.from).toString()\r\n  console.log(\"to:\", latestTo, \"from:\", latestFrom)\r\n  console.log(\"fml\", latestMoveObj[0])\r\n\r\n  function conversion(toandfro) {\r\n    const path = ['a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a7', 'a8', 'b1', 'b2', 'b3', 'b4', 'b5', 'b6', 'b7', 'b8', 'c1', 'c2', 'c3', 'c4', 'c5', 'c6', 'c7', 'c8', 'd1', 'd2', 'd3', 'd4', 'd5', 'd6', 'd7', 'd8', 'e1', 'e2', 'e3', 'e4', 'e5', 'e6', 'e7', 'e8', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7', 'f8', 'g1', 'g2', 'g3', 'g4', 'g5', 'g6', 'g7', 'g8', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'h7', 'h8'];\r\n    const number = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63];\r\n    for (let i = 0; i < toandfro.length; i++) {\r\n      toandfro[i] = number[path.indexOf(toandfro[i])]\r\n    }\r\n    return toandfro\r\n  }\r\n\r\n  const latestMove = [latestTo, latestFrom]\r\n  console.log(latestMove)\r\n\r\n  //write\r\n  console.log(\"history again\", history)\r\n  // const to = history.\r\n  const writeToDatabase = () => {\r\n    const uuid = uid();\r\n    set(ref(db, `/Main/${uuid}`), {\r\n      history,\r\n      uuid\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Popup trigger={<button className=\"rounded-lg font-semibold bg-amber-400 text-white px-4 py-2 mt-2\">Moves History</button>} modal nested>\r\n      {history.map((move, i) => <div key={i}>{move.color === null\r\n        ? \"\"\r\n        : move.color === \"w\"\r\n          ? \"White\"\r\n          : \"Black\"} {move.piece === null\r\n            ? \"\"\r\n            : move.piece === \"p\"\r\n              ? \"Pawn\"\r\n              : move.piece === \"n\"\r\n                ? \"Knight\"\r\n                : move.piece = \"b\"\r\n                  ? \"Bishop\"\r\n                  : move.piece = \"r\"\r\n                    ? \"Rook\"\r\n                    : move.piece = \"q\"\r\n                      ? \"Queen\"\r\n                      : \"King\"} moved from {move.from} to {move.to}</div>)}\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default GameInstructions;"]},"metadata":{},"sourceType":"module"}